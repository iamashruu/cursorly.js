{"version":3,"file":"cursorly.min.js","sources":["../src/lib/icons.js","../src/lib/effects.js","../src/lib/particles.js","../src/lib/animation.js","../src/index.js","../src/lib/canvas.js","../src/lib/api.js"],"sourcesContent":["export const iconsData = [\r\n        \"https://img.icons8.com/softteal-color/24/blue-pointer.png\",\r\n        \"https://img.icons8.com/keek/100/cursor.png\",\r\n        \"https://img.icons8.com/quill/100/cursor.png\",\r\n        \"https://img.icons8.com/quill/100/cursor.png\",\r\n        \"https://img.icons8.com/neon/96/cursor.png\",\r\n        \"https://img.icons8.com/liquid-glass/48/cursor.png\",\r\n        \"https://img.icons8.com/plasticine/100/cursor.png\",\r\n        \"https://img.icons8.com/dotty/80/move.png\",\r\n        \"https://img.icons8.com/nolan/64/move.png\",\r\n        \"https://img.icons8.com/color/48/move.png\",\r\n        \"https://img.icons8.com/nolan/64/scene-builder.png\",\r\n        \"https://img.icons8.com/skeuomorphism/32/color-wheel-pointer.png\",\r\n        \"https://img.icons8.com/skeuomorphism/32/duotone-pointer.png\",\r\n        \"https://img.icons8.com/windows/32/crosshair.png\",\r\n        \"https://img.icons8.com/dotty/80/crosshair.png\",\r\n        \"https://img.icons8.com/ios/50/circled-dot.png\",\r\n        \"https://img.icons8.com/color/48/circled-dot.png\",\r\n        \"https://img.icons8.com/office/40/circled-dot.png\",\r\n        \"https://img.icons8.com/ios/50/define-location--v1.png\",\r\n        \"https://img.icons8.com/ios-filled/50/define-location--v1.png\",\r\n        \"https://img.icons8.com/color/48/define-location--v1.png\",\r\n        \"https://img.icons8.com/sf-regular-filled/48/one-finger.png\",\r\n        \"https://img.icons8.com/stamp/32/one-finger.png\",\r\n        \"https://img.icons8.com/ultraviolet/40/one-finger--v1.png\",\r\n        \"https://img.icons8.com/keek/100/one-finger.png\",\r\n        \"https://img.icons8.com/external-bluetone-bomsymbols-/91/external-arrow-cursor-digital-design-bluetone-set-1-bluetone-bomsymbols--2.png\",\r\n        \"https://img.icons8.com/external-tal-revivo-green-tal-revivo/36/external-mouse-cursor-input-movable-device-directional-navigation-selection-green-tal-revivo.png\",\r\n        \"https://img.icons8.com/external-tal-revivo-tritone-tal-revivo/32/external-top-page-movement-of-mouse-cursor-arrow-selection-tritone-tal-revivo.png\",\r\n        \"https://img.icons8.com/external-tal-revivo-regular-tal-revivo/24/external-top-page-movement-of-mouse-cursor-arrow-selection-regular-tal-revivo.png\",\r\n        \"https://img.icons8.com/external-tal-revivo-shadow-tal-revivo/48/external-top-page-movement-of-mouse-cursor-arrow-selection-shadow-tal-revivo.png\",\r\n        \"https://img.icons8.com/external-vectorslab-glyph-vectorslab/53/external-Mouse-gaming-vectorslab-glyph-vectorslab.png\",\r\n        \"https://img.icons8.com/emoji/48/mouse-body-emoji.png\",\r\n        \"https://img.icons8.com/external-tal-revivo-fresh-tal-revivo/56/external-mouse-double-click-for-access-an-application-selection-fresh-tal-revivo.png\",\r\n        \"https://img.icons8.com/external-those-icons-lineal-those-icons/24/external-click-touch-gestures-those-icons-lineal-those-icons.png\",\r\n        \"https://img.icons8.com/bubbles/50/electrified-cursor.png\",\r\n        \"https://img.icons8.com/external-tal-revivo-shadow-tal-revivo/48/external-mouse-double-click-for-access-an-application-selection-shadow-tal-revivo.png\",\r\n        \"https://img.icons8.com/external-soft-fill-juicy-fish/60/external-sand-cursors-soft-fill-soft-fill-juicy-fish.png\",\r\n        \"https://img.icons8.com/external-soft-fill-juicy-fish/60/external-vector-cursors-soft-fill-soft-fill-juicy-fish.png\",\r\n        \"https://img.icons8.com/external-soft-fill-juicy-fish/60/external-move-cursors-soft-fill-soft-fill-juicy-fish-2.png\",\r\n        \"https://img.icons8.com/external-tal-revivo-tritone-tal-revivo/64/external-click-on-touchscreen-isolate-on-a-white-background-touch-tritone-tal-revivo.png\",\r\n        \"https://img.icons8.com/external-tal-revivo-green-tal-revivo/36/external-click-on-touchscreen-isolate-on-a-white-background-touch-green-tal-revivo.png\",\r\n        \"https://img.icons8.com/external-avoca-kerismaker/64/external-Direct-cursor-creativity-avoca-kerismaker.png\"\r\n    ];\r\n\r\nexport function getIcon(index = 0) {\r\n    const safeIndex = Math.max(0, Math.min(index, iconsData.length - 1));\r\n    return iconsData[safeIndex];\r\n}\r\n\r\nexport async function preloadIcons(urls) {\r\n  const list = Array.isArray(urls) ? urls : [urls];\r\n\r\n  const loaders = list.map(\r\n    (url) =>\r\n      new Promise((resolve, reject) => {\r\n        if (typeof url !== \"string\" || !url.startsWith(\"http\")) {\r\n          return reject(new Error(`Invalid image URL: ${url}`));\r\n        }\r\n\r\n        const img = new Image();\r\n        img.onload = () => resolve(url);\r\n        img.onerror = () => reject(new Error(`Failed to load image: ${url}`));\r\n        img.src = url;\r\n      })\r\n  );\r\n\r\n  return Promise.allSettled(loaders).then((results) =>\r\n    results\r\n      .filter((r) => r.status === \"fulfilled\")\r\n      .map((r) => r.value)\r\n  );\r\n}\r\n","// import effectsData from '../data/effects.json';\r\n\r\n// export const effectsList = (effectsData.effects || []).map(e => e.name);\r\n\r\n// export function getEffectDefaults(name) {\r\n//   const effect = (effectsData.effects || []).find(e => e.name === name);\r\n//   return effect ? { ...effect } : { name: 'trail', color: 'rainbow', density: 6, size: [2,8], decay:0.95, hueStep:3 };\r\n// }\r\n\r\n// import effectsData from '../data/effects.json';\r\n\r\n// export const effectsList = (effectsData.effects || []).map(e => e.name);\r\n\r\n// export function getEffectDefaults(name) {\r\n//     const effect = (effectsData.effects || []).find(e => e.name === name);\r\n//     return effect ? { ...effect } : {\r\n//         name: 'trail',\r\n//         color: 'rainbow',\r\n//         density: 4,\r\n//         size: [2, 8],\r\n//         decay: 0.95,\r\n//         hueStep: 3,\r\n//         shape: '●',\r\n//         motion: 'trail'\r\n//     };\r\n// }\r\n\r\nexport const effectsData = [\r\n  {\r\n    \"name\": \"trail\",\r\n    \"color\": \"rainbow\",\r\n    \"density\": 6,\r\n    \"size\": [2, 8],\r\n    \"decay\": 0.95,\r\n    \"hueStep\": 3,\r\n    \"type\": \"default\"\r\n  },\r\n  {\r\n    \"name\": \"sparkle\",\r\n    \"color\": \"white\",\r\n    \"density\": 8,\r\n    \"size\": [2, 6],\r\n    \"decay\": 0.9,\r\n    \"hueStep\": 0,\r\n    \"type\": \"default\"\r\n  },\r\n  {\r\n    \"name\": \"emoji\",\r\n    \"shape\": \"✨\",\r\n    \"color\": \"white\",\r\n    \"density\": 3,\r\n    \"size\": [1, 4],\r\n    \"decay\": 0.8,\r\n    \"type\": \"emoji\"\r\n  },\r\n  {\r\n    \"name\": \"firing\",\r\n    \"color\": [\"#ff4500\", \"#ffa500\", \"#ff0000\"],\r\n    \"density\": 10,\r\n    \"size\": [2, 6],\r\n    \"decay\": 0.85,\r\n    \"type\": \"firing\"\r\n  },\r\n  {\r\n    \"name\": \"circle\",\r\n    \"color\": \"#00ffcc\",\r\n    \"density\": 6,\r\n    \"size\": [4, 10],\r\n    \"decay\": 0.95,\r\n    \"type\": \"circle\"\r\n  },\r\n  {\r\n    \"name\": \"none\",\r\n    \"color\": \"none\",\r\n    \"density\": 0,\r\n    \"size\": [0, 0],\r\n    \"decay\": 1,\r\n    \"type\": \"default\"\r\n  },\r\n\r\n  // --- New Normal Effects ---\r\n  {\r\n    \"name\": \"neonGlow\",\r\n    \"color\": [\"#00ffff\", \"#ff00ff\", \"#ffff00\"],\r\n    \"density\": 7,\r\n    \"size\": [3, 9],\r\n    \"decay\": 0.92,\r\n    \"type\": \"default\"\r\n  },\r\n  {\r\n    \"name\": \"fireworks\",\r\n    \"color\": [\"#ff007f\", \"#00ffff\", \"#ffbf00\"],\r\n    \"density\": 12,\r\n    \"size\": [3, 7],\r\n    \"decay\": 0.85,\r\n    \"type\": \"default\"\r\n  },\r\n  {\r\n    \"name\": \"snowfall\",\r\n    \"color\": \"#ffffff\",\r\n    \"density\": 9,\r\n    \"size\": [2, 5],\r\n    \"decay\": 0.97,\r\n    \"type\": \"default\"\r\n  },\r\n  {\r\n    \"name\": \"aura\",\r\n    \"color\": [\"#ff66cc\", \"#66ccff\", \"#99ff99\"],\r\n    \"density\": 5,\r\n    \"size\": [6, 12],\r\n    \"decay\": 0.9,\r\n    \"type\": \"default\"\r\n  },\r\n  {\r\n    \"name\": \"comet\",\r\n    \"color\": [\"#ffffff\", \"#99ccff\"],\r\n    \"density\": 5,\r\n    \"size\": [3, 10],\r\n    \"decay\": 0.88,\r\n    \"type\": \"default\"\r\n  },\r\n\r\n  // --- New Emoji Effects ---\r\n  {\r\n    \"name\": \"emojiHearts\",\r\n    \"shape\": \"💖\",\r\n    \"color\": \"white\",\r\n    \"density\": 3,\r\n    \"size\": [2, 4],\r\n    \"decay\": 0.85,\r\n    \"type\": \"emoji\"\r\n  },\r\n  {\r\n    \"name\": \"emojiStars\",\r\n    \"shape\": \"⭐\",\r\n    \"color\": \"white\",\r\n    \"density\": 3,\r\n    \"size\": [2, 5],\r\n    \"decay\": 0.9,\r\n    \"type\": \"emoji\"\r\n  },\r\n  {\r\n    \"name\": \"emojiFire\",\r\n    \"shape\": \"🔥\",\r\n    \"color\": \"white\",\r\n    \"density\": 3,\r\n    \"size\": [3, 6],\r\n    \"decay\": 0.8,\r\n    \"type\": \"emoji\"\r\n  },\r\n  {\r\n    \"name\": \"emojiSnow\",\r\n    \"shape\": \"❄️\",\r\n    \"color\": \"white\",\r\n    \"density\": 3,\r\n    \"size\": [1, 2],\r\n    \"decay\": 0.9,\r\n    \"type\": \"emoji\"\r\n  },\r\n  {\r\n    \"name\": \"emojiMagic\",\r\n    \"shape\": \"🪄\",\r\n    \"color\": \"white\",\r\n    \"density\": 3,\r\n    \"size\": [2, 4],\r\n    \"decay\": 0.9,\r\n    \"type\": \"emoji\"\r\n  }\r\n];\r\n\r\n\r\nexport const effectsList = effectsData.map(e => e.name);\r\n\r\nexport function getEffectDefaults(name) {\r\n    const effect = effectsData.find(e => e.name === name);\r\n    return effect ? { ...effect } : effectsData[0];\r\n}\r\n","// export class Particle {\r\n//     constructor(lib) {\r\n//         const [minSize, maxSize] = lib.options.effect.size;\r\n//         this.x = lib.mouse.x;\r\n//         this.y = lib.mouse.y;\r\n//         this.size = Math.random() * (maxSize - minSize) + minSize;\r\n\r\n//         if (lib.options.effect.name === \"sparkle\") {\r\n//             this.speedX = (Math.random() - 0.5) * 4;\r\n//             this.speedY = (Math.random() - 0.5) * 4;\r\n//         } else {\r\n//             this.speedX = Math.random() * 2 - 1;\r\n//             this.speedY = Math.random() * 2 - 1;\r\n//         }\r\n\r\n//         this.color = lib.options.effect.color === \"rainbow\"\r\n//             ? `hsl(${lib.hue},100%,60%)`\r\n//             : lib.options.effect.color;\r\n\r\n//         this.lib = lib;\r\n//     }\r\n\r\n//     update() {\r\n//         this.x += this.speedX;\r\n//         this.y += this.speedY;\r\n//         this.size *= this.lib.options.effect.decay;\r\n//     }\r\n\r\n//     draw() {\r\n//         const ctx = this.lib.ctx;\r\n//         ctx.beginPath();\r\n//         ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n//         ctx.fillStyle = this.color;\r\n//         ctx.fill();\r\n//     }\r\n// }\r\n\r\nexport class Particle {\r\n    constructor(lib) {\r\n        const effect = lib.options.effect || { name: 'trail', color: 'rainbow', size: [2, 8], density: 6, decay: 0.95, hueStep: 3, type: 'default' };\r\n        const [minSize, maxSize] = effect.size || [2, 8];\r\n        this.size = Math.random() * (maxSize - minSize) + minSize;\r\n\r\n        this.x = lib.mouse.x;\r\n        this.y = lib.mouse.y;\r\n\r\n        this.type = effect.type || 'default';\r\n        this.shape = effect.shape || null;\r\n\r\n        switch (this.type) {\r\n            case 'emoji':\r\n                this.speedX = (Math.random() - 0.5) * 8;\r\n                this.speedY = (Math.random() - 0.5) * 8;\r\n                break;\r\n            case 'firing':\r\n                this.speedX = (Math.random() - 0.5) * 2;\r\n                this.speedY = -Math.random() * 4 - 2; // fire rises upward\r\n                break;\r\n            case 'circle':\r\n                this.speedX = (Math.random() - 0.5) * 1.5;\r\n                this.speedY = (Math.random() - 0.5) * 1.5;\r\n                break;\r\n            default:\r\n                this.speedX = Math.random() * 2 - 1;\r\n                this.speedY = Math.random() * 2 - 1;\r\n        }\r\n\r\n        if (Array.isArray(effect.color)) {\r\n            this.color = effect.color[Math.floor(Math.random() * effect.color.length)];\r\n        } else if (effect.color === 'rainbow') {\r\n            this.color = `hsl(${lib.hue}, 100%, 60%)`;\r\n        } else {\r\n            this.color = effect.color;\r\n        }\r\n\r\n        this.lib = lib;\r\n    }\r\n\r\n    update() {\r\n        this.x += this.speedX;\r\n        this.y += this.speedY;\r\n        this.size *= this.lib.options.effect.decay || 0.95;\r\n    }\r\n\r\n    draw() {\r\n        const ctx = this.lib.ctx;\r\n        if (!ctx) return;\r\n\r\n        if (this.type === 'emoji' && this.shape) {\r\n            ctx.font = `${this.size * 4}px serif`;\r\n            ctx.textAlign = 'center';\r\n            ctx.textBaseline = 'middle';\r\n            ctx.fillText(this.shape, this.x, this.y);\r\n        } else if (this.type === 'circle') {\r\n            ctx.beginPath();\r\n            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n            ctx.fillStyle = this.color;\r\n            ctx.fill();\r\n        } else { // default + firing\r\n            ctx.beginPath();\r\n            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n            ctx.fillStyle = this.color;\r\n            ctx.fill();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","// import { drawCursor } from './cursor.js';\r\n\r\n// export function animate(lib) {\r\n//     lib.ctx.clearRect(0, 0, lib.canvas.width, lib.canvas.height);\r\n\r\n//     if (lib.particlesEnabled) lib.hue += lib.options.effect.hueStep;\r\n\r\n//     if (lib.particlesEnabled) {\r\n//         for (let i = 0; i < lib.particles.length; i++) {\r\n//             lib.particles[i].update();\r\n//             lib.particles[i].draw();\r\n//             if (lib.particles[i].size < 0.5) {\r\n//                 lib.particles.splice(i, 1);\r\n//                 i--;\r\n//             }\r\n//         }\r\n//     }\r\n\r\n//     if (lib.enabled) drawCursor(lib);\r\n//     requestAnimationFrame(() => animate(lib));\r\n// }\r\nexport function animate(lib) {\r\n    // Clear the canvas each frame\r\n    lib.ctx.clearRect(0, 0, lib.canvas.width, lib.canvas.height);\r\n\r\n    // Update hue if rainbow effect\r\n    if (lib.particlesEnabled && lib.options.effect.color === 'rainbow') {\r\n        lib.hue = (lib.hue + (lib.options.effect.hueStep || 3)) % 360;\r\n    }\r\n\r\n    // Update and draw particles\r\n    if (lib.particlesEnabled) {\r\n        for (let i = lib.particles.length - 1; i >= 0; i--) {\r\n            const p = lib.particles[i];\r\n            p.update();\r\n            p.draw(lib.ctx, lib.hue);\r\n\r\n            // Remove small/dead particles\r\n            if (p.size < 0.5 || p.life <= 0) {\r\n                lib.particles.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Draw cursor image\r\n    if (lib.enabled && lib.cursorImage && lib.cursorImage.complete) {\r\n        lib.ctx.drawImage(\r\n            lib.cursorImage,\r\n            lib.mouse.x - (lib.options.cursorSize || 24) / 2,\r\n            lib.mouse.y - (lib.options.cursorSize || 24) / 2,\r\n            lib.options.cursorSize || 24,\r\n            lib.options.cursorSize || 24\r\n        );\r\n    }\r\n\r\n    requestAnimationFrame(() => animate(lib));\r\n}\r\n","import { iconsData,getIcon, preloadIcons } from './lib/icons.js';\r\nimport { effectsList, getEffectDefaults } from './lib/effects.js';\r\nimport { initCanvas } from './lib/canvas.js';\r\nimport { Particle } from './lib/particles.js';\r\nimport { animate } from './lib/animation.js';\r\nimport * as API from './lib/api.js';\r\n\r\nclass Cursorly {\r\n    constructor(options = {}) {\r\n        this.options = Object.assign({ cursor: 0, effect: {} }, options);\r\n        this.effects = effectsList;\r\n\r\n        const defaultEffect = getEffectDefaults(this.options.effect.name || 'trail');\r\n        this.options.effect = Object.assign({}, defaultEffect, this.options.effect || {});\r\n        if (!this.effects.includes(this.options.effect.name)) {\r\n            this.options.effect = getEffectDefaults('trail');\r\n        }\r\n\r\n        this.enabled = true;\r\n        this.particlesEnabled = this.options.effect.name !== 'none';\r\n        this.hue = 0;\r\n        this.particles = [];\r\n        this.ParticleClass = Particle;\r\n\r\n        // Initialize canvas first\r\n        initCanvas(this);\r\n\r\n        // Create the cursor image element\r\n        this.cursorIcons = iconsData;\r\n        this.cursorImage = document.createElement('img');\r\n        this.cursorImage.style.position = 'fixed';\r\n        this.cursorImage.style.pointerEvents = 'none';\r\n        this.cursorImage.style.zIndex = '99999';\r\n        this.cursorImage.style.width = '32px';\r\n        this.cursorImage.style.height = '32px';\r\n        this.cursorImage.style.transform = 'translate(-50%, -50%)';\r\n        this.cursorImage.src = getIcon(this.options.cursor);\r\n\r\n        preloadIcons()\r\n\r\n        // Track mouse to move the cursor\r\n        window.addEventListener('mousemove', e => {\r\n            this.cursorImage.style.left = `${e.clientX}px`;\r\n            this.cursorImage.style.top = `${e.clientY}px`;\r\n\r\n            if (this.particlesEnabled && this.options.effect.name !== 'none') {\r\n                for (let i = 0; i < this.options.effect.density; i++) {\r\n                    this.particles.push(new this.ParticleClass(this));\r\n                }\r\n            }\r\n        });\r\n\r\n        animate(this);\r\n    }\r\n\r\n    addIcon(url) { return API.addIcon(this, url); }\r\n    setIcon(index) { API.setIcon(this, index); }\r\n    setEffect(effectObj) { API.setEffect(this, effectObj); }\r\n    enable() { API.enable(this); }\r\n    disable() { API.disable(this); }\r\n    enableEffect() { this.particlesEnabled = true; }\r\n    disableEffect() { this.particlesEnabled = false; }\r\n}\r\n\r\n// Global Init\r\n// window.Cursorly = {\r\n//     init: (options) => new Cursorly(options)\r\n// };\r\nfunction init(options = {}) {\r\n    const cursor = new Cursorly(options);\r\n    return cursor;\r\n}\r\nexport default { init };\r\n","// export function initCanvas(lib) {\r\n//     document.body.style.cursor = \"none\";\r\n//     document.documentElement.style.cursor = \"none\";\r\n//     document.querySelectorAll(\"a, button\").forEach(el => el.style.cursor = \"none\");\r\n\r\n//     lib.canvas = document.createElement(\"canvas\");\r\n//     lib.canvas.style.position = \"fixed\";\r\n//     lib.canvas.style.top = \"0\";\r\n//     lib.canvas.style.left = \"0\";\r\n//     lib.canvas.style.width = \"100%\";\r\n//     lib.canvas.style.height = \"100%\";\r\n//     lib.canvas.style.pointerEvents = \"none\";\r\n//     lib.canvas.style.zIndex = \"9999\";\r\n//     document.body.appendChild(lib.canvas);\r\n//     lib.ctx = lib.canvas.getContext(\"2d\");\r\n\r\n//     lib.resize = () => {\r\n//         lib.canvas.width = window.innerWidth || document.body.clientWidth;\r\n//         lib.canvas.height = window.innerHeight || document.body.clientHeight;\r\n//     };\r\n//     lib.resize();\r\n//     window.addEventListener(\"resize\", lib.resize);\r\n\r\n//     lib.mouse = { x: -100, y: -100 };\r\n//     window.addEventListener(\"mousemove\", e => {\r\n//         lib.mouse.x = e.clientX;\r\n//         lib.mouse.y = e.clientY;\r\n//         if (lib.particlesEnabled && lib.options.effect.name !== \"none\") {\r\n//             for (let i = 0; i < lib.options.effect.density; i++) {\r\n//                 lib.particles.push(new lib.ParticleClass(lib));\r\n//             }\r\n//         }\r\n//     });\r\n// }\r\nimport { Particle } from './particles.js';\r\n\r\nexport function initCanvas(lib) {\r\n    document.body.style.cursor = \"none\";\r\n    document.documentElement.style.cursor = \"none\";\r\n    document.querySelectorAll(\"a, button\").forEach((el) => {\r\n      el.style.cursor = \"pointer\";\r\n    });\r\n\r\n    lib.canvas = document.createElement(\"canvas\");\r\n    lib.canvas.style.position = \"fixed\";\r\n    lib.canvas.style.top = \"0\";\r\n    lib.canvas.style.left = \"0\";\r\n    lib.canvas.style.width = \"100%\";\r\n    lib.canvas.style.height = \"100%\";\r\n    lib.canvas.style.pointerEvents = \"none\";\r\n    lib.canvas.style.zIndex = \"9999\";\r\n    document.body.appendChild(lib.canvas);\r\n    lib.ctx = lib.canvas.getContext(\"2d\");\r\n\r\n    lib.resize = () => {\r\n        lib.canvas.width = window.innerWidth;\r\n        lib.canvas.height = window.innerHeight;\r\n    };\r\n    lib.resize();\r\n    window.addEventListener(\"resize\", lib.resize);\r\n\r\n    lib.mouse = { x: -100, y: -100 }; // actual cursor\r\n    lib.cursorPos = { x: -100, y: -100 }; // lerped cursor\r\n\r\n    // Throttle particle spawn rate\r\n    let lastSpawnTime = 0;\r\n    const spawnInterval = 16; // ~60 FPS\r\n\r\n    window.addEventListener(\"mousemove\", e => {\r\n        lib.mouse.x = e.clientX;\r\n        lib.mouse.y = e.clientY;\r\n\r\n        const now = performance.now();\r\n        if (lib.particlesEnabled && lib.options.effect.name !== \"none\" && now - lastSpawnTime > spawnInterval) {\r\n            lastSpawnTime = now;\r\n            // spawn 1 particle per frame for smooth and fast response\r\n            lib.particles.push(new lib.ParticleClass(lib));\r\n        }\r\n    });\r\n}\r\n","// export function setIcon(lib, index) {\r\n//     if (index >= 0 && index < lib.cursorIcons.length) {\r\n//         lib.options.cursor = index;\r\n//         lib.cursorLoaded = false;\r\n//         lib.cursorImage.onload = () => { lib.cursorLoaded = true; };\r\n//         lib.cursorImage.src = lib.cursorIcons[index];\r\n//     }\r\n// }\r\n\r\n// export function setEffect(lib, effectObj) {\r\n//     if (!effectObj) return;\r\n//     if (effectObj.name && lib.effects.includes(effectObj.name)) {\r\n//         lib.options.effect.name = effectObj.name;\r\n//         lib.particlesEnabled = effectObj.name !== \"none\";\r\n//     }\r\n//     if (effectObj.color) lib.options.effect.color = effectObj.color;\r\n//     if (effectObj.density) lib.options.effect.density = effectObj.density;\r\n//     if (effectObj.size) lib.options.effect.size = effectObj.size;\r\n//     if (effectObj.decay) lib.options.effect.decay = effectObj.decay;\r\n//     if (effectObj.hueStep) lib.options.effect.hueStep = effectObj.hueStep;\r\n// }\r\n\r\n// export function enable(lib) {\r\n//     lib.enabled = true;\r\n//     lib.particlesEnabled = lib.options.effect.name !== \"none\";\r\n//     document.body.style.cursor = \"none\";\r\n//     document.documentElement.style.cursor = \"none\";\r\n// }\r\n\r\n// export function disable(lib) {\r\n//     lib.enabled = false;\r\n//     lib.particlesEnabled = false;\r\n//     document.body.style.cursor = \"default\";\r\n//     document.documentElement.style.cursor = \"default\";\r\n//     document.querySelectorAll(\"a, button\").forEach(el => el.style.cursor = \"pointer\");\r\n// }\r\nimport { getEffectDefaults, effectsList } from './effects.js';\r\nimport { preloadIcons } from './icons.js';\r\n\r\nexport function addIcon(lib, url) {\r\n    if (typeof url === 'string' || url.startsWith('http')) {\r\n        lib.cursorIcons.push(url);\r\n        preloadIcons(url);\r\n        return lib.cursorIcons.length - 1; // Return the index of the newly added icon\r\n    }\r\n}\r\n\r\nexport function setIcon(lib, index) {\r\n    if (lib.cursorIcons[index]) {\r\n        lib.options.cursor = index;\r\n        lib.cursorImage.src = lib.cursorIcons[index];\r\n    }\r\n}\r\n\r\nexport function setEffect(lib, effectObj) {\r\n    if (!effectObj || !effectObj.name) return;\r\n\r\n    // Check if effect exists\r\n    const effectName = effectsList.includes(effectObj.name) ? effectObj.name : 'trail';\r\n    const defaultEffect = getEffectDefaults(effectName);\r\n\r\n    // Merge user effect options\r\n    lib.options.effect = Object.assign({}, defaultEffect, effectObj);\r\n\r\n    // Enable particles if effect is not \"none\"\r\n    lib.particlesEnabled = lib.options.effect.name !== 'none';\r\n    lib.hue = 0;\r\n}\r\n\r\nexport function enable(lib) {\r\n    lib.enabled = true;\r\n    lib.particlesEnabled = lib.options.effect.name !== \"none\";\r\n    document.body.style.cursor = \"none\";\r\n    document.documentElement.style.cursor = \"none\";\r\n}\r\n\r\nexport function disable(lib) {\r\n    lib.enabled = false;\r\n    lib.particlesEnabled = false;\r\n    document.body.style.cursor = \"default\";\r\n    document.documentElement.style.cursor = \"default\";\r\n    document.querySelectorAll(\"a, button\").forEach((el) => {\r\n        el.style.cursor = \"pointer\";\r\n    });\r\n}\r\n"],"names":["iconsData","async","preloadIcons","urls","loaders","Array","isArray","map","url","Promise","resolve","reject","startsWith","Error","img","Image","onload","onerror","src","allSettled","then","results","filter","r","status","value","effectsData","name","color","density","size","decay","hueStep","type","shape","effectsList","e","getEffectDefaults","effect","find","Particle","constructor","lib","options","minSize","maxSize","this","Math","random","x","mouse","y","speedX","speedY","floor","length","hue","update","draw","ctx","font","textAlign","textBaseline","fillText","beginPath","arc","PI","fillStyle","fill","animate","clearRect","canvas","width","height","particlesEnabled","i","particles","p","life","splice","enabled","cursorImage","complete","drawImage","cursorSize","requestAnimationFrame","Cursorly","Object","assign","cursor","effects","defaultEffect","includes","ParticleClass","document","body","style","documentElement","querySelectorAll","forEach","el","createElement","position","top","left","pointerEvents","zIndex","appendChild","getContext","resize","window","innerWidth","innerHeight","addEventListener","cursorPos","lastSpawnTime","clientX","clientY","now","performance","push","cursorIcons","transform","index","safeIndex","max","min","addIcon","setIcon","setEffect","effectObj","enable","disable","enableEffect","disableEffect","init"],"mappings":"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"}