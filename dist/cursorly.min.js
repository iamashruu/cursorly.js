!function(){"use strict";var e=[{name:"trail",color:"rainbow",density:6,size:[2,8],decay:.95,hueStep:3},{name:"sparkle",color:"white",density:8,size:[2,6],decay:.9,hueStep:0},{name:"none",color:"none",density:0,size:[0,0],decay:1,hueStep:0}];const t=(e||[]).map(e=>e.name);class s{constructor(e){const[t,s]=e.options.effect.size;this.x=e.mouse.x,this.y=e.mouse.y,this.size=Math.random()*(s-t)+t,"sparkle"===e.options.effect.name?(this.speedX=4*(Math.random()-.5),this.speedY=4*(Math.random()-.5)):(this.speedX=2*Math.random()-1,this.speedY=2*Math.random()-1),this.color="rainbow"===e.options.effect.color?`hsl(${e.hue},100%,60%)`:e.options.effect.color,this.lib=e}update(){this.x+=this.speedX,this.y+=this.speedY,this.size*=this.lib.options.effect.decay}draw(){const e=this.lib.ctx;e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.fillStyle=this.color,e.fill()}}function o(e){if(e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.particlesEnabled&&(e.hue+=e.options.effect.hueStep),e.particlesEnabled)for(let t=0;t<e.particles.length;t++)e.particles[t].update(),e.particles[t].draw(),e.particles[t].size<.5&&(e.particles.splice(t,1),t--);e.enabled&&function(e){if(!e.enabled||!e.cursorLoaded)return;const t=e.options.cursorSize||24;e.ctx.drawImage(e.cursorImage,e.mouse.x-t/2,e.mouse.y-t/2,t,t)}(e),requestAnimationFrame(()=>o(e))}class n{constructor(n={}){this.options=Object.assign({cursor:0,effect:{}},n),this.effects=t,this.options=Object.assign({cursor:0,effect:{}},n);const i=function(t){const s=(e||[]).find(e=>e.name===t);return s?{...s}:{name:"trail",color:"rainbow",density:6,size:[2,8],decay:.95,hueStep:3}}(this.options.effect.name||"trail");var c;this.options.effect=Object.assign({},i,this.options.effect||{}),this.effects.includes(this.options.effect.name)||(this.options.effect.name="trail"),this.cursorIcons=[],this.enabled=!0,this.particlesEnabled="none"!==this.options.effect.name,this.hue=0,this.particles=[],this.ParticleClass=s,c=this,document.body.style.cursor="none",document.documentElement.style.cursor="none",document.querySelectorAll("a, button").forEach(e=>e.style.cursor="none"),c.canvas=document.createElement("canvas"),c.canvas.style.position="fixed",c.canvas.style.top="0",c.canvas.style.left="0",c.canvas.style.width="100%",c.canvas.style.height="100%",c.canvas.style.pointerEvents="none",c.canvas.style.zIndex="9999",document.body.appendChild(c.canvas),c.ctx=c.canvas.getContext("2d"),c.resize=()=>{c.canvas.width=window.innerWidth||document.body.clientWidth,c.canvas.height=window.innerHeight||document.body.clientHeight},c.resize(),window.addEventListener("resize",c.resize),c.mouse={x:-100,y:-100},window.addEventListener("mousemove",e=>{if(c.mouse.x=e.clientX,c.mouse.y=e.clientY,c.particlesEnabled&&"none"!==c.options.effect.name)for(let e=0;e<c.options.effect.density;e++)c.particles.push(new c.ParticleClass(c))}),function(e){e.cursorImage=new Image,e.cursorLoaded=!1,e.cursorImage.onload=()=>{e.cursorLoaded=!0}}(this),fetch("./src/data/icons.json").then(e=>e.json()).then(e=>{Array.isArray(e.icons)?(this.cursorIcons=e.icons,this.cursorImage.src=this.cursorIcons[this.options.cursor],this.cursorIcons.forEach(e=>{(new Image).src=e})):console.error("icons.json does not contain 'icons' array")}).catch(e=>console.error("Failed to load icons.json:",e)),o(this)}setIcon(e){!function(e,t){t>=0&&t<e.cursorIcons.length&&(e.options.cursor=t,e.cursorLoaded=!1,e.cursorImage.onload=()=>{e.cursorLoaded=!0},e.cursorImage.src=e.cursorIcons[t])}(this,e)}setEffect(e){!function(e,t){t&&(t.name&&e.effects.includes(t.name)&&(e.options.effect.name=t.name,e.particlesEnabled="none"!==t.name),t.color&&(e.options.effect.color=t.color),t.density&&(e.options.effect.density=t.density),t.size&&(e.options.effect.size=t.size),t.decay&&(e.options.effect.decay=t.decay),t.hueStep&&(e.options.effect.hueStep=t.hueStep))}(this,e)}enable(){var e;(e=this).enabled=!0,e.particlesEnabled="none"!==e.options.effect.name,document.body.style.cursor="none",document.documentElement.style.cursor="none"}disable(){var e;(e=this).enabled=!1,e.particlesEnabled=!1,document.body.style.cursor="default",document.documentElement.style.cursor="default",document.querySelectorAll("a, button").forEach(e=>e.style.cursor="pointer")}enableEffect(){this.particlesEnabled=!0}disableEffect(){this.particlesEnabled=!1}}window.Cursorly={init:e=>new n(e)}}();
//# sourceMappingURL=cursorly.min.js.map
