{"version":3,"file":"cursorly.umd.js","sources":["../src/lib/icons.js","../src/lib/effects.js","../src/lib/particles.js","../src/lib/animation.js","../src/index.js","../src/lib/canvas.js","../src/lib/api.js"],"sourcesContent":["export const iconsData = [\n        \"https://img.icons8.com/softteal-color/24/blue-pointer.png\",\n        \"https://img.icons8.com/keek/100/cursor.png\",\n        \"https://img.icons8.com/quill/100/cursor.png\",\n        \"https://img.icons8.com/quill/100/cursor.png\",\n        \"https://img.icons8.com/neon/96/cursor.png\",\n        \"https://img.icons8.com/liquid-glass/48/cursor.png\",\n        \"https://img.icons8.com/plasticine/100/cursor.png\",\n        \"https://img.icons8.com/dotty/80/move.png\",\n        \"https://img.icons8.com/nolan/64/move.png\",\n        \"https://img.icons8.com/color/48/move.png\",\n        \"https://img.icons8.com/nolan/64/scene-builder.png\",\n        \"https://img.icons8.com/skeuomorphism/32/color-wheel-pointer.png\",\n        \"https://img.icons8.com/skeuomorphism/32/duotone-pointer.png\",\n        \"https://img.icons8.com/windows/32/crosshair.png\",\n        \"https://img.icons8.com/dotty/80/crosshair.png\",\n        \"https://img.icons8.com/ios/50/circled-dot.png\",\n        \"https://img.icons8.com/color/48/circled-dot.png\",\n        \"https://img.icons8.com/office/40/circled-dot.png\",\n        \"https://img.icons8.com/ios/50/define-location--v1.png\",\n        \"https://img.icons8.com/ios-filled/50/define-location--v1.png\",\n        \"https://img.icons8.com/color/48/define-location--v1.png\",\n        \"https://img.icons8.com/sf-regular-filled/48/one-finger.png\",\n        \"https://img.icons8.com/stamp/32/one-finger.png\",\n        \"https://img.icons8.com/ultraviolet/40/one-finger--v1.png\",\n        \"https://img.icons8.com/keek/100/one-finger.png\",\n        \"https://img.icons8.com/external-bluetone-bomsymbols-/91/external-arrow-cursor-digital-design-bluetone-set-1-bluetone-bomsymbols--2.png\",\n        \"https://img.icons8.com/external-tal-revivo-green-tal-revivo/36/external-mouse-cursor-input-movable-device-directional-navigation-selection-green-tal-revivo.png\",\n        \"https://img.icons8.com/external-tal-revivo-tritone-tal-revivo/32/external-top-page-movement-of-mouse-cursor-arrow-selection-tritone-tal-revivo.png\",\n        \"https://img.icons8.com/external-tal-revivo-regular-tal-revivo/24/external-top-page-movement-of-mouse-cursor-arrow-selection-regular-tal-revivo.png\",\n        \"https://img.icons8.com/external-tal-revivo-shadow-tal-revivo/48/external-top-page-movement-of-mouse-cursor-arrow-selection-shadow-tal-revivo.png\",\n        \"https://img.icons8.com/external-vectorslab-glyph-vectorslab/53/external-Mouse-gaming-vectorslab-glyph-vectorslab.png\",\n        \"https://img.icons8.com/emoji/48/mouse-body-emoji.png\",\n        \"https://img.icons8.com/external-tal-revivo-fresh-tal-revivo/56/external-mouse-double-click-for-access-an-application-selection-fresh-tal-revivo.png\",\n        \"https://img.icons8.com/external-those-icons-lineal-those-icons/24/external-click-touch-gestures-those-icons-lineal-those-icons.png\",\n        \"https://img.icons8.com/bubbles/50/electrified-cursor.png\",\n        \"https://img.icons8.com/external-tal-revivo-shadow-tal-revivo/48/external-mouse-double-click-for-access-an-application-selection-shadow-tal-revivo.png\",\n        \"https://img.icons8.com/external-soft-fill-juicy-fish/60/external-sand-cursors-soft-fill-soft-fill-juicy-fish.png\",\n        \"https://img.icons8.com/external-soft-fill-juicy-fish/60/external-vector-cursors-soft-fill-soft-fill-juicy-fish.png\",\n        \"https://img.icons8.com/external-soft-fill-juicy-fish/60/external-move-cursors-soft-fill-soft-fill-juicy-fish-2.png\",\n        \"https://img.icons8.com/external-tal-revivo-tritone-tal-revivo/64/external-click-on-touchscreen-isolate-on-a-white-background-touch-tritone-tal-revivo.png\",\n        \"https://img.icons8.com/external-tal-revivo-green-tal-revivo/36/external-click-on-touchscreen-isolate-on-a-white-background-touch-green-tal-revivo.png\",\n        \"https://img.icons8.com/external-avoca-kerismaker/64/external-Direct-cursor-creativity-avoca-kerismaker.png\"\n    ];\n\nexport function getIcon(index = 0) {\n    const safeIndex = Math.max(0, Math.min(index, iconsData.length - 1));\n    return iconsData[safeIndex];\n}\n\nexport async function preloadIcons(urls) {\n  const list = Array.isArray(urls) ? urls : [urls];\n\n  const loaders = list.map(\n    (url) =>\n      new Promise<string>((resolve, reject) => {\n        if (typeof url !== \"string\" || !url.startsWith(\"http\")) {\n          return reject(new Error(`Invalid image URL: ${url}`));\n        }\n\n        const img = new Image();\n        img.onload = () => resolve(url);\n        img.onerror = () => reject(new Error(`Failed to load image: ${url}`));\n        img.src = url;\n      })\n  );\n\n  return Promise.allSettled(loaders).then((results) =>\n    results\n      .filter((r) => r.status === \"fulfilled\")\n      .map((r) => r.value)\n  );\n}\n","// import effectsData from '../data/effects.json';\n\n// export const effectsList = (effectsData.effects || []).map(e => e.name);\n\n// export function getEffectDefaults(name) {\n//   const effect = (effectsData.effects || []).find(e => e.name === name);\n//   return effect ? { ...effect } : { name: 'trail', color: 'rainbow', density: 6, size: [2,8], decay:0.95, hueStep:3 };\n// }\n\n// import effectsData from '../data/effects.json';\n\n// export const effectsList = (effectsData.effects || []).map(e => e.name);\n\n// export function getEffectDefaults(name) {\n//     const effect = (effectsData.effects || []).find(e => e.name === name);\n//     return effect ? { ...effect } : {\n//         name: 'trail',\n//         color: 'rainbow',\n//         density: 4,\n//         size: [2, 8],\n//         decay: 0.95,\n//         hueStep: 3,\n//         shape: 'â—',\n//         motion: 'trail'\n//     };\n// }\n\nexport const effectsData = [\n  {\n    \"name\": \"trail\",\n    \"color\": \"rainbow\",\n    \"density\": 6,\n    \"size\": [2, 8],\n    \"decay\": 0.95,\n    \"hueStep\": 3,\n    \"type\": \"default\"\n  },\n  {\n    \"name\": \"sparkle\",\n    \"color\": \"white\",\n    \"density\": 8,\n    \"size\": [2, 6],\n    \"decay\": 0.9,\n    \"hueStep\": 0,\n    \"type\": \"default\"\n  },\n  {\n    \"name\": \"emoji\",\n    \"shape\": \"âœ¨\",\n    \"color\": \"white\",\n    \"density\": 3,\n    \"size\": [1, 4],\n    \"decay\": 0.8,\n    \"type\": \"emoji\"\n  },\n  {\n    \"name\": \"firing\",\n    \"color\": [\"#ff4500\", \"#ffa500\", \"#ff0000\"],\n    \"density\": 10,\n    \"size\": [2, 6],\n    \"decay\": 0.85,\n    \"type\": \"firing\"\n  },\n  {\n    \"name\": \"circle\",\n    \"color\": \"#00ffcc\",\n    \"density\": 6,\n    \"size\": [4, 10],\n    \"decay\": 0.95,\n    \"type\": \"circle\"\n  },\n  {\n    \"name\": \"none\",\n    \"color\": \"none\",\n    \"density\": 0,\n    \"size\": [0, 0],\n    \"decay\": 1,\n    \"type\": \"default\"\n  },\n\n  // --- New Normal Effects ---\n  {\n    \"name\": \"neonGlow\",\n    \"color\": [\"#00ffff\", \"#ff00ff\", \"#ffff00\"],\n    \"density\": 7,\n    \"size\": [3, 9],\n    \"decay\": 0.92,\n    \"type\": \"default\"\n  },\n  {\n    \"name\": \"fireworks\",\n    \"color\": [\"#ff007f\", \"#00ffff\", \"#ffbf00\"],\n    \"density\": 12,\n    \"size\": [3, 7],\n    \"decay\": 0.85,\n    \"type\": \"default\"\n  },\n  {\n    \"name\": \"snowfall\",\n    \"color\": \"#ffffff\",\n    \"density\": 9,\n    \"size\": [2, 5],\n    \"decay\": 0.97,\n    \"type\": \"default\"\n  },\n  {\n    \"name\": \"aura\",\n    \"color\": [\"#ff66cc\", \"#66ccff\", \"#99ff99\"],\n    \"density\": 5,\n    \"size\": [6, 12],\n    \"decay\": 0.9,\n    \"type\": \"default\"\n  },\n  {\n    \"name\": \"comet\",\n    \"color\": [\"#ffffff\", \"#99ccff\"],\n    \"density\": 5,\n    \"size\": [3, 10],\n    \"decay\": 0.88,\n    \"type\": \"default\"\n  },\n\n  // --- New Emoji Effects ---\n  {\n    \"name\": \"emojiHearts\",\n    \"shape\": \"ðŸ’–\",\n    \"color\": \"white\",\n    \"density\": 3,\n    \"size\": [2, 4],\n    \"decay\": 0.85,\n    \"type\": \"emoji\"\n  },\n  {\n    \"name\": \"emojiStars\",\n    \"shape\": \"â­\",\n    \"color\": \"white\",\n    \"density\": 3,\n    \"size\": [2, 5],\n    \"decay\": 0.9,\n    \"type\": \"emoji\"\n  },\n  {\n    \"name\": \"emojiFire\",\n    \"shape\": \"ðŸ”¥\",\n    \"color\": \"white\",\n    \"density\": 3,\n    \"size\": [3, 6],\n    \"decay\": 0.8,\n    \"type\": \"emoji\"\n  },\n  {\n    \"name\": \"emojiSnow\",\n    \"shape\": \"â„ï¸\",\n    \"color\": \"white\",\n    \"density\": 3,\n    \"size\": [1, 2],\n    \"decay\": 0.9,\n    \"type\": \"emoji\"\n  },\n  {\n    \"name\": \"emojiMagic\",\n    \"shape\": \"ðŸª„\",\n    \"color\": \"white\",\n    \"density\": 3,\n    \"size\": [2, 4],\n    \"decay\": 0.9,\n    \"type\": \"emoji\"\n  }\n];\n\n\nexport const effectsList = effectsData.map(e => e.name);\n\nexport function getEffectDefaults(name) {\n    const effect = effectsData.find(e => e.name === name);\n    return effect ? { ...effect } : effectsData[0];\n}\n","// export class Particle {\n//     constructor(lib) {\n//         const [minSize, maxSize] = lib.options.effect.size;\n//         this.x = lib.mouse.x;\n//         this.y = lib.mouse.y;\n//         this.size = Math.random() * (maxSize - minSize) + minSize;\n\n//         if (lib.options.effect.name === \"sparkle\") {\n//             this.speedX = (Math.random() - 0.5) * 4;\n//             this.speedY = (Math.random() - 0.5) * 4;\n//         } else {\n//             this.speedX = Math.random() * 2 - 1;\n//             this.speedY = Math.random() * 2 - 1;\n//         }\n\n//         this.color = lib.options.effect.color === \"rainbow\"\n//             ? `hsl(${lib.hue},100%,60%)`\n//             : lib.options.effect.color;\n\n//         this.lib = lib;\n//     }\n\n//     update() {\n//         this.x += this.speedX;\n//         this.y += this.speedY;\n//         this.size *= this.lib.options.effect.decay;\n//     }\n\n//     draw() {\n//         const ctx = this.lib.ctx;\n//         ctx.beginPath();\n//         ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n//         ctx.fillStyle = this.color;\n//         ctx.fill();\n//     }\n// }\n\nexport class Particle {\n    constructor(lib) {\n        const effect = lib.options.effect || { name: 'trail', color: 'rainbow', size: [2, 8], density: 6, decay: 0.95, hueStep: 3, type: 'default' };\n        const [minSize, maxSize] = effect.size || [2, 8];\n        this.size = Math.random() * (maxSize - minSize) + minSize;\n\n        this.x = lib.mouse.x;\n        this.y = lib.mouse.y;\n\n        this.type = effect.type || 'default';\n        this.shape = effect.shape || null;\n\n        switch (this.type) {\n            case 'emoji':\n                this.speedX = (Math.random() - 0.5) * 8;\n                this.speedY = (Math.random() - 0.5) * 8;\n                break;\n            case 'firing':\n                this.speedX = (Math.random() - 0.5) * 2;\n                this.speedY = -Math.random() * 4 - 2; // fire rises upward\n                break;\n            case 'circle':\n                this.speedX = (Math.random() - 0.5) * 1.5;\n                this.speedY = (Math.random() - 0.5) * 1.5;\n                break;\n            default:\n                this.speedX = Math.random() * 2 - 1;\n                this.speedY = Math.random() * 2 - 1;\n        }\n\n        if (Array.isArray(effect.color)) {\n            this.color = effect.color[Math.floor(Math.random() * effect.color.length)];\n        } else if (effect.color === 'rainbow') {\n            this.color = `hsl(${lib.hue}, 100%, 60%)`;\n        } else {\n            this.color = effect.color;\n        }\n\n        this.lib = lib;\n    }\n\n    update() {\n        this.x += this.speedX;\n        this.y += this.speedY;\n        this.size *= this.lib.options.effect.decay || 0.95;\n    }\n\n    draw() {\n        const ctx = this.lib.ctx;\n        if (!ctx) return;\n\n        if (this.type === 'emoji' && this.shape) {\n            ctx.font = `${this.size * 4}px serif`;\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillText(this.shape, this.x, this.y);\n        } else if (this.type === 'circle') {\n            ctx.beginPath();\n            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n            ctx.fillStyle = this.color;\n            ctx.fill();\n        } else { // default + firing\n            ctx.beginPath();\n            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n            ctx.fillStyle = this.color;\n            ctx.fill();\n        }\n    }\n}\n\n\n\n","// import { drawCursor } from './cursor.js';\n\n// export function animate(lib) {\n//     lib.ctx.clearRect(0, 0, lib.canvas.width, lib.canvas.height);\n\n//     if (lib.particlesEnabled) lib.hue += lib.options.effect.hueStep;\n\n//     if (lib.particlesEnabled) {\n//         for (let i = 0; i < lib.particles.length; i++) {\n//             lib.particles[i].update();\n//             lib.particles[i].draw();\n//             if (lib.particles[i].size < 0.5) {\n//                 lib.particles.splice(i, 1);\n//                 i--;\n//             }\n//         }\n//     }\n\n//     if (lib.enabled) drawCursor(lib);\n//     requestAnimationFrame(() => animate(lib));\n// }\nexport function animate(lib) {\n    // Clear the canvas each frame\n    lib.ctx.clearRect(0, 0, lib.canvas.width, lib.canvas.height);\n\n    // Update hue if rainbow effect\n    if (lib.particlesEnabled && lib.options.effect.color === 'rainbow') {\n        lib.hue = (lib.hue + (lib.options.effect.hueStep || 3)) % 360;\n    }\n\n    // Update and draw particles\n    if (lib.particlesEnabled) {\n        for (let i = lib.particles.length - 1; i >= 0; i--) {\n            const p = lib.particles[i];\n            p.update();\n            p.draw(lib.ctx, lib.hue);\n\n            // Remove small/dead particles\n            if (p.size < 0.5 || p.life <= 0) {\n                lib.particles.splice(i, 1);\n            }\n        }\n    }\n\n    // Draw cursor image\n    if (lib.enabled && lib.cursorImage && lib.cursorImage.complete) {\n        lib.ctx.drawImage(\n            lib.cursorImage,\n            lib.mouse.x - (lib.options.cursorSize || 24) / 2,\n            lib.mouse.y - (lib.options.cursorSize || 24) / 2,\n            lib.options.cursorSize || 24,\n            lib.options.cursorSize || 24\n        );\n    }\n\n    requestAnimationFrame(() => animate(lib));\n}\n","import { iconsData,getIcon, preloadIcons } from './lib/icons.js';\nimport { effectsList, getEffectDefaults } from './lib/effects.js';\nimport { initCanvas } from './lib/canvas.js';\nimport { Particle } from './lib/particles.js';\nimport { animate } from './lib/animation.js';\nimport * as API from './lib/api.js';\n\nclass Cursorly {\n    constructor(options = {}) {\n        this.options = Object.assign({ cursor: 0, effect: {} }, options);\n        this.effects = effectsList;\n\n        const defaultEffect = getEffectDefaults(this.options.effect.name || 'trail');\n        this.options.effect = Object.assign({}, defaultEffect, this.options.effect || {});\n        if (!this.effects.includes(this.options.effect.name)) {\n            this.options.effect = getEffectDefaults('trail');\n        }\n\n        this.enabled = true;\n        this.particlesEnabled = this.options.effect.name !== 'none';\n        this.hue = 0;\n        this.particles = [];\n        this.ParticleClass = Particle;\n\n        // Initialize canvas first\n        initCanvas(this);\n\n        // Create the cursor image element\n        this.cursorIcons = iconsData;\n        this.cursorImage = document.createElement('img');\n        this.cursorImage.style.position = 'fixed';\n        this.cursorImage.style.pointerEvents = 'none';\n        this.cursorImage.style.zIndex = '99999';\n        this.cursorImage.style.width = '32px';\n        this.cursorImage.style.height = '32px';\n        this.cursorImage.style.transform = 'translate(-50%, -50%)';\n        this.cursorImage.src = getIcon(this.options.cursor);\n\n        preloadIcons()\n\n        // Track mouse to move the cursor\n        window.addEventListener('mousemove', e => {\n            this.cursorImage.style.left = `${e.clientX}px`;\n            this.cursorImage.style.top = `${e.clientY}px`;\n\n            if (this.particlesEnabled && this.options.effect.name !== 'none') {\n                for (let i = 0; i < this.options.effect.density; i++) {\n                    this.particles.push(new this.ParticleClass(this));\n                }\n            }\n        });\n\n        animate(this);\n    }\n\n    addIcon(url) { return API.addIcon(this, url); }\n    setIcon(index) { API.setIcon(this, index); }\n    setEffect(effectObj) { API.setEffect(this, effectObj); }\n    enable() { API.enable(this); }\n    disable() { API.disable(this); }\n    enableEffect() { this.particlesEnabled = true; }\n    disableEffect() { this.particlesEnabled = false; }\n}\n\n// Global Init\n// window.Cursorly = {\n//     init: (options) => new Cursorly(options)\n// };\nfunction init(options = {}) {\n    const cursor = new Cursorly(options);\n    return cursor;\n}\nexport default { init };\n","// export function initCanvas(lib) {\n//     document.body.style.cursor = \"none\";\n//     document.documentElement.style.cursor = \"none\";\n//     document.querySelectorAll(\"a, button\").forEach(el => el.style.cursor = \"none\");\n\n//     lib.canvas = document.createElement(\"canvas\");\n//     lib.canvas.style.position = \"fixed\";\n//     lib.canvas.style.top = \"0\";\n//     lib.canvas.style.left = \"0\";\n//     lib.canvas.style.width = \"100%\";\n//     lib.canvas.style.height = \"100%\";\n//     lib.canvas.style.pointerEvents = \"none\";\n//     lib.canvas.style.zIndex = \"9999\";\n//     document.body.appendChild(lib.canvas);\n//     lib.ctx = lib.canvas.getContext(\"2d\");\n\n//     lib.resize = () => {\n//         lib.canvas.width = window.innerWidth || document.body.clientWidth;\n//         lib.canvas.height = window.innerHeight || document.body.clientHeight;\n//     };\n//     lib.resize();\n//     window.addEventListener(\"resize\", lib.resize);\n\n//     lib.mouse = { x: -100, y: -100 };\n//     window.addEventListener(\"mousemove\", e => {\n//         lib.mouse.x = e.clientX;\n//         lib.mouse.y = e.clientY;\n//         if (lib.particlesEnabled && lib.options.effect.name !== \"none\") {\n//             for (let i = 0; i < lib.options.effect.density; i++) {\n//                 lib.particles.push(new lib.ParticleClass(lib));\n//             }\n//         }\n//     });\n// }\nimport { Particle } from './particles.js';\n\nexport function initCanvas(lib) {\n    document.body.style.cursor = \"none\";\n    document.documentElement.style.cursor = \"none\";\n    document.querySelectorAll(\"a, button\").forEach((el) => {\n      el.style.cursor = \"pointer\";\n    });\n\n    lib.canvas = document.createElement(\"canvas\");\n    lib.canvas.style.position = \"fixed\";\n    lib.canvas.style.top = \"0\";\n    lib.canvas.style.left = \"0\";\n    lib.canvas.style.width = \"100%\";\n    lib.canvas.style.height = \"100%\";\n    lib.canvas.style.pointerEvents = \"none\";\n    lib.canvas.style.zIndex = \"9999\";\n    document.body.appendChild(lib.canvas);\n    lib.ctx = lib.canvas.getContext(\"2d\");\n\n    lib.resize = () => {\n        lib.canvas.width = window.innerWidth;\n        lib.canvas.height = window.innerHeight;\n    };\n    lib.resize();\n    window.addEventListener(\"resize\", lib.resize);\n\n    lib.mouse = { x: -100, y: -100 }; // actual cursor\n    lib.cursorPos = { x: -100, y: -100 }; // lerped cursor\n\n    // Throttle particle spawn rate\n    let lastSpawnTime = 0;\n    const spawnInterval = 16; // ~60 FPS\n\n    window.addEventListener(\"mousemove\", e => {\n        lib.mouse.x = e.clientX;\n        lib.mouse.y = e.clientY;\n\n        const now = performance.now();\n        if (lib.particlesEnabled && lib.options.effect.name !== \"none\" && now - lastSpawnTime > spawnInterval) {\n            lastSpawnTime = now;\n            // spawn 1 particle per frame for smooth and fast response\n            lib.particles.push(new lib.ParticleClass(lib));\n        }\n    });\n}\n","// export function setIcon(lib, index) {\n//     if (index >= 0 && index < lib.cursorIcons.length) {\n//         lib.options.cursor = index;\n//         lib.cursorLoaded = false;\n//         lib.cursorImage.onload = () => { lib.cursorLoaded = true; };\n//         lib.cursorImage.src = lib.cursorIcons[index];\n//     }\n// }\n\n// export function setEffect(lib, effectObj) {\n//     if (!effectObj) return;\n//     if (effectObj.name && lib.effects.includes(effectObj.name)) {\n//         lib.options.effect.name = effectObj.name;\n//         lib.particlesEnabled = effectObj.name !== \"none\";\n//     }\n//     if (effectObj.color) lib.options.effect.color = effectObj.color;\n//     if (effectObj.density) lib.options.effect.density = effectObj.density;\n//     if (effectObj.size) lib.options.effect.size = effectObj.size;\n//     if (effectObj.decay) lib.options.effect.decay = effectObj.decay;\n//     if (effectObj.hueStep) lib.options.effect.hueStep = effectObj.hueStep;\n// }\n\n// export function enable(lib) {\n//     lib.enabled = true;\n//     lib.particlesEnabled = lib.options.effect.name !== \"none\";\n//     document.body.style.cursor = \"none\";\n//     document.documentElement.style.cursor = \"none\";\n// }\n\n// export function disable(lib) {\n//     lib.enabled = false;\n//     lib.particlesEnabled = false;\n//     document.body.style.cursor = \"default\";\n//     document.documentElement.style.cursor = \"default\";\n//     document.querySelectorAll(\"a, button\").forEach(el => el.style.cursor = \"pointer\");\n// }\nimport { getEffectDefaults, effectsList } from './effects.js';\nimport { preloadIcons } from './icons.js';\n\nexport function addIcon(lib, url) {\n    if (typeof url === 'string' && url.startsWith('http')) {\n        lib.cursorIcons.push(url);\n        preloadIcons(url);\n        return lib.cursorIcons.length - 1; // Return the index of the newly added icon\n    }\n}\n\nexport function setIcon(lib, index) {\n    if (lib.cursorIcons[index]) {\n        lib.options.cursor = index;\n        lib.cursorImage.src = lib.cursorIcons[index];\n    }\n}\n\nexport function setEffect(lib, effectObj) {\n    if (!effectObj || !effectObj.name) return;\n\n    // Check if effect exists\n    const effectName = effectsList.includes(effectObj.name) ? effectObj.name : 'trail';\n    const defaultEffect = getEffectDefaults(effectName);\n\n    // Merge user effect options\n    lib.options.effect = Object.assign({}, defaultEffect, effectObj);\n\n    // Enable particles if effect is not \"none\"\n    lib.particlesEnabled = lib.options.effect.name !== 'none';\n    lib.hue = 0;\n}\n\nexport function enable(lib) {\n    lib.enabled = true;\n    lib.particlesEnabled = lib.options.effect.name !== \"none\";\n    document.body.style.cursor = \"none\";\n    document.documentElement.style.cursor = \"none\";\n}\n\nexport function disable(lib) {\n    lib.enabled = false;\n    lib.particlesEnabled = false;\n    document.body.style.cursor = \"default\";\n    document.documentElement.style.cursor = \"default\";\n    document.querySelectorAll(\"a, button\").forEach((el) => {\n        el.style.cursor = \"pointer\";\n    });\n}\n"],"names":["iconsData","async","preloadIcons","urls","loaders","Array","isArray","map","url","Promise","string","resolve","reject","startsWith","Error","img","Image","onload","onerror","src","allSettled","then","results","filter","r","status","value","effectsData","name","color","density","size","decay","hueStep","type","shape","effectsList","e","getEffectDefaults","effect","find","Particle","constructor","lib","options","minSize","maxSize","this","Math","random","x","mouse","y","speedX","speedY","floor","length","hue","update","draw","ctx","font","textAlign","textBaseline","fillText","beginPath","arc","PI","fillStyle","fill","animate","clearRect","canvas","width","height","particlesEnabled","i","particles","p","life","splice","enabled","cursorImage","complete","drawImage","cursorSize","requestAnimationFrame","Cursorly","Object","assign","cursor","effects","defaultEffect","includes","ParticleClass","document","body","style","documentElement","querySelectorAll","forEach","el","createElement","position","top","left","pointerEvents","zIndex","appendChild","getContext","resize","window","innerWidth","innerHeight","addEventListener","cursorPos","lastSpawnTime","clientX","clientY","now","performance","push","initCanvas","cursorIcons","transform","index","safeIndex","max","min","getIcon","addIcon","API.addIcon","setIcon","API.setIcon","setEffect","effectObj","API.setEffect","enable","disable","enableEffect","disableEffect","init"],"mappings":"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"}